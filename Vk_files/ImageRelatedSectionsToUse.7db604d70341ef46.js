"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[23197],{18589:(e,a,t)=>{t.d(a,{o:()=>c});var i=t(87011),n=t(92424),s=t(6029),r=t(59044),l=t(83912),o=t(61266),m=t(55729),d=t(93138),c=e=>{var{asset:a=o.vB,collectionId:t="",sameArtistAssets:c=o.tR,withInlineCta:u=!1}=e,p=(0,n._)(e,["asset","collectionId","sameArtistAssets","withInlineCta"]),{contributor:g}=a,v=(0,r.qQ)({asset:a}),_=(0,r.f0)(a);(0,m.useMemo)(()=>(0,r.ch)({assetGroups:[c]}),[c]);var h=(0,m.useMemo)(()=>c.filter(e=>(0,r.qQ)({asset:e})!==v),[v,c]),y=(0,l.Bp)({contributor:g,id:t,subPage:_}),{portfolioUrlSuffix:I}=(null==g?void 0:g.publicInformation)||{};return(0,s.jsx)(d.t,(0,i._)({assets:h,pathProps:y,showAssetTypeIcon:!0,withInlineCta:u,showCtaProp:!!I},p))}},28863:(e,a,t)=>{t.d(a,{a:()=>x});var i=t(87011),n=t(92424),s=t(6029),r=t(93138),l=t(18589),o=t(58018),m=t(27326),d=t(81298),c=t(59044),u=t(74961),p=t(78042),g=t(30721),v=t(67974),_=t(83912),h=t(68663),y=t(81307),I=t(61266),S=t(7703),f="".concat(m.Rko," - personalizedImages"),C="".concat(m.Rko," - similarImages"),b="".concat(m.Rko," - sameModel"),F="".concat(m.Rko," - moreFromThisArtist"),A="".concat(m.Rko," - sameCollection"),R="".concat(m.Rko," - similarVideoClips"),w="".concat(m.Rko," - similarAIImages"),T=(0,S.n9)()(e=>{var{tokens:{fontWeight:a}}=e;return{bold:{"&&":{fontWeight:a.bold}}}}),x=e=>{var a,t,{asset:S=I.vB,collectionId:x="",collectionItems:$=I.tR,labels:V=I.vB,personalizedImages:E=I.tR,sameModel:L=I.tR,showSimilarVideos:k=!1,sameArtistAssets:M=I.tR,visuallySimilar:B=I.tR,visuallySimilarMaxRows:z=2,visuallySimilarVideos:P=I.tR,visuallySimilarGenerated:j=I.tR,withInlineCta:U=!1}=e,G=(0,n._)(e,["asset","collectionId","collectionItems","labels","personalizedImages","sameModel","showSimilarVideos","sameArtistAssets","visuallySimilar","visuallySimilarMaxRows","visuallySimilarVideos","visuallySimilarGenerated","withInlineCta"]),{id:N,contributor:q,releases:W,channels:X}=S,{classes:J,cx:O}=T(),{classes:D}=(0,y.eu)(),Z=(0,p.a)(),{assetsFromSameCollection:H,containedInCollectionsTitle:Q,relatedSectionButton:Y,visuallySimilarVideosTitle:K}=V,ee=(0,h.M_)(S.id),ea=(0,h.n5)(N),et=(0,h.pH)(N),ei=(0,h.Mr)(N),en=(0,h.Xx)({ids:W&&W.join(","),imageId:N}),es=(0,_.Bp)({contributor:q,id:x}),er=(0,c.Uh)({channels:X}),el=null==(t=(0,g.rA)())||null==(a=t.data)?void 0:a.id,eo=(0,c.R1)(S),{region:em}=(0,d.Y)(),ed=el||!u.x8.includes(em)&&!Z;return(0,s.jsxs)(s.Fragment,{children:[!er&&!eo&&(0,s.jsx)(v.SX,{value:C,children:(0,s.jsx)(r.t,(0,i._)({assets:B,listId:m.tmp,buttonLabel:V.relatedSectionButton,pathProps:ea,title:V.visuallySimilarTitle,maxRows:z,withInlineCta:U,gridId:"related-images-section"},G))}),ed&&(0,s.jsx)(v.SX,{value:f,children:(0,s.jsx)(r.t,(0,i._)({maxRows:2,listId:m.aZW,title:V.personalizedImagesTitle,assets:E,buttonLabel:V.personalizedImagesButton,pathProps:ee,withInlineCta:U,gridId:"related-personalized-section"},G))}),(0,s.jsx)(v.SX,{value:w,children:(0,s.jsx)(r.t,(0,i._)({assets:j,listId:m.RnV,buttonLabel:V.generateMoreButton,pathProps:ei,title:V.visuallySimilarGeneratedTitle,withInlineCta:U,gridId:"related-ai-images-section"},G))}),(0,s.jsx)(v.SX,{value:A,children:(0,s.jsx)(r.t,(0,i._)({title:U?H:(0,s.jsxs)(s.Fragment,{children:[Q.preLinkLabel,(0,s.jsx)(o.N,{className:O(D.buttonAnchor,J.bold),href:es[0],linkAs:es[1],underline:!0,children:Q.linkLabel}),Q.postLinkLabel]}),pathProps:es,assets:$,listId:m.sLc,buttonLabel:Y,withInlineCta:U,gridId:"related-same-collection-section"},G))}),(0,s.jsx)(v.SX,{value:b,children:(0,s.jsx)(r.t,(0,i._)({assets:L,listId:m.dCS,buttonLabel:V.relatedSectionButton,pathProps:en,title:V.sameModelTitle,withInlineCta:U,gridId:"related-same-model-section"},G))}),(0,s.jsx)(v.SX,{value:F,children:(0,s.jsx)(l.o,(0,i._)({asset:S,listId:m.AxK,collectionId:x,buttonLabel:V.relatedSectionButton,sameArtistAssets:M,title:V.sameArtistAssetsTitle,withInlineCta:U,gridId:"related-same-artist-section"},G))}),k&&(0,s.jsx)(v.SX,{value:R,children:(0,s.jsx)(r.t,(0,i._)({assets:P,listId:m.Aom,title:K,buttonLabel:V.relatedSectionButton,withInlineCta:U,pathProps:et,showAssetTypeIcon:!0,gridId:"related-similar-videos-section"},G))})]})}},64256:(e,a,t)=>{t.r(a),t.d(a,{RelatedSectionsToUse:()=>H});var i=t(6029),n=t(28863),s=t(23407),r=t(98257),l=t(59044),o=t(51220),m=t(87011),d=t(93096),c=t(13631),u=t(90280),p=t(74961);let g=JSON.parse('{"id":"81a54caf2d8bafe1c2366ff835f330bc83876fc0e874b8b3b2652c758489ad1d","type":"query","name":"FetchRelatedAssets","source":"query FetchRelatedAssets($where:MediaWhere!,$sameArtistWhere:SearchWhere!,$sameModelWhere:SearchWhere!,$topSimilarCount:Int,$recommendationAnchors:RecommendationAnchors,$recommendationCountry:CountryCode,$recommendationFilters:RecommendationFilters!,$recommendationLimit:UnsignedInt,$recommendationStrategy:StrategyEnum!,$fetchRecommendations:Boolean! = false,$fetchSameArtist:Boolean! = false,$fetchSameModel:Boolean! = false,$fetchSimilarGeneratedImages:Boolean! = false,$fetchSimilarImages:Boolean! = false,$fetchSimilarVideos:Boolean! = false,$similarImagesCollectionType:CollectionTypeEnum! = APPROVED,$similarVideosCollectionType:CollectionTypeEnum! = APPROVED_VIDEO){creativeImages(where:$where){data{...SimilarGeneratedImagesFragment @include(if:$fetchSimilarGeneratedImages)...SimilarImagesFragment @include(if:$fetchSimilarImages)...SimilarVideosFragment @include(if:$fetchSimilarVideos)__typename}__typename}sameArtist:creativeMediaSearch(where:$sameArtistWhere)@include(if:$fetchSameArtist){...SearchResultsFragment __typename}sameModel:creativeMediaSearch(where:$sameModelWhere)@include(if:$fetchSameModel){...SearchResultsFragment __typename}recommendations(anchors:$recommendationAnchors strategy:$recommendationStrategy country:$recommendationCountry limit:$recommendationLimit filters:$recommendationFilters)@include(if:$fetchRecommendations){...RecommendationFragment __typename}}fragment SimilarGeneratedImagesFragment on CreativeImage{similarGeneratedImages:similarImages(top:$topSimilarCount collectionType:GENERATED){__typename...SimilarEntityIdFragment entities{__typename media{__typename...on CreativeImage{...CreativeImageMediaFieldsFragment __typename}}}}__typename}fragment SimilarEntityIdFragment on CreativeSimilarImageResult{entities{classicId __typename}__typename}fragment CreativeImageMediaFieldsFragment on CreativeImage{...CreativeImageBasicInfoFragment...CreativeImageBooleanFieldsFragment sellableImageSizes{...CreativeImageSellableSizesFragment __typename}__typename}fragment CreativeImageBasicInfoFragment on CreativeImage{__typename classicId aspect aspectRatio contributorId description thumbnailImageUrlTemplate secureWatermarkImageUrl keywords metadataStatus{mainStatus qualifierStatus __typename}channels contentTier{id __typename}contentTiers}fragment CreativeImageBooleanFieldsFragment on CreativeImage{exclusiveToSstk is3dSpinner isAdult isEditorial isGenerated isIllustration isIpReviewed isVector __typename}fragment CreativeImageSellableSizesFragment on SellableImageSize{...on SellableCreativeImageJpgSize{__typename name displayName fileSize humanFileSize format dpi height{centimetersLabel inchesLabel pixels __typename}width{centimetersLabel inchesLabel pixels __typename}}...on SellableCreativeImagePngSize{__typename name displayName fileSize humanFileSize format dpi height{centimetersLabel inchesLabel pixels __typename}width{centimetersLabel inchesLabel pixels __typename}}...on SellableCreativeImagePSDSize{__typename name displayName fileSize humanFileSize format dpi height{centimetersLabel inchesLabel pixels __typename}width{centimetersLabel inchesLabel pixels __typename}}...on SellableCreativeImageVectorSize{__typename name displayName fileSize humanFileSize format}__typename}fragment SimilarImagesFragment on CreativeImage{similarImages(top:$topSimilarCount collectionType:$similarImagesCollectionType){__typename...SimilarEntityIdFragment entities{__typename media{__typename...on CreativeImage{...CreativeImageMediaFieldsFragment __typename}}}}__typename}fragment SimilarVideosFragment on CreativeImage{similarVideos:similarImages(top:$topSimilarCount collectionType:$similarVideosCollectionType){__typename...SimilarEntityIdFragment entities{__typename media{__typename...on CreativeVideo{...CreativeVideoMediaFieldsFragment __typename}}}}__typename}fragment CreativeVideoMediaFieldsFragment on CreativeVideo{...CreativeVideoBasicInfoFragment...CreativeVideoBooleanFieldsFragment sellableVideoSizes{...CreativeVideoSellableSizesFragment __typename}__typename}fragment CreativeVideoBasicInfoFragment on CreativeVideo{__typename type classicId aspect aspectRatio contributorId description addedDate channels duration previewImageUrl keywords secureWatermarkUrl{mp4 webm __typename}translatedDescriptions{availableTranslatedDescriptions{lang description __typename}description __typename}contentTiers}fragment CreativeVideoBooleanFieldsFragment on CreativeVideo{exclusiveToSstk isAdult isEditorial isIpReviewed __typename}fragment CreativeVideoSellableSizesFragment on SellableCreativeVideoSize{name displayName format videoCodec fileSize humanFileSize fps height{pixels __typename}width{pixels __typename}__typename}fragment SearchResultsFragment on SearchResponse{results{docs{...on CreativeImage{...CreativeImageMediaFieldsFragment __typename}__typename}__typename}__typename}fragment RecommendationFragment on RecommendationResponse{response{results{media{...on CreativeImage{...CreativeImageMediaFieldsFragment __typename}__typename}__typename}tracer __typename}internals{providers{resultsCount __typename}__typename}__typename}"}');var v=t(17563),_=t(78118),h=t(82281),y=t.n(h),{publicRuntimeConfig:{apiEndpoints:I}}=y()(),S=e=>[c.$E,c.kc,c.vo].includes(null==e?void 0:e.imageType),f=e=>{var a;return!!(null==e||null==(a=e.releases)?void 0:a.length)&&[c.$E,c.kc,c.vo].includes(null==e?void 0:e.imageType)},C=e=>(0,l.Bq)({asset:e}),b=e=>(0,l.Bq)({asset:e})||[c.$E,c.kc,c.vo].includes(null==e?void 0:e.imageType),F=e=>(0,l.Bq)({asset:e})||[c.$E,c.kc,c.vo].includes(null==e?void 0:e.imageType),A=e=>{var{asset:a,isMobile:t,isSameArtist:i,isSameModel:n,locale:s,region:r,isFilterByUnlimited:l}=e,{contributorId:o="",id:c,keywords:p,releases:g}=a||{},_=t?u.Zh:u.SE,h=t?u.Zh:u.d3,y=(0,m._)({cache:!0,countryCode:r,language:s,mediaType:v.$9.Image,rows:i?h:_,safeSearch:{isSafe:!0},sortOrder:v.ti.Popular,start:0},l&&{classicContentTiers:{anyOf:[v.i2.UnlimitedV_0_1]}});return i&&o?(0,d._)((0,m._)({},y),{contributors:{ids:{anyOf:[o]}},query:(null==p?void 0:p[0])||""}):n&&g?(0,d._)((0,m._)({},y),{classicIds:{noneOf:[c]},releases:{classicModelReleaseIds:{anyOf:g.map(String)}}}):y},R=e=>{var{asset:a,brand:t,experiments:i,headers:n={},isBot:s,isLoggedInUser:r=!1,isMobile:l=!1,locale:o,region:d,searchTerm:c="",subscriptionProduct:u,topSimilarCount:h=10,isFilterByUnlimited:y=!1}=e,R=(0,p.g2)({asset:a,locale:o,region:d,searchTerm:c,subscriptionProduct:u,isFilterByUnlimited:y}),w=A({asset:a,isMobile:l,isSameArtist:!0,locale:o,region:d,isFilterByUnlimited:y}),T=A({asset:a,isMobile:l,isSameModel:!0,locale:o,region:d,isFilterByUnlimited:y}),x=(0,p.aR)({asset:a,isBot:s,isLoggedInUser:r,isMobile:l,region:d}),$=S(a),V=f(a),E=C(a),L=b(a),k=F(a),M=(0,m._)({where:{classicId:a.id}},(0,m._)({fetchRecommendations:x},R),{fetchSameArtist:$,sameArtistWhere:w},{fetchSameModel:V,sameModelWhere:T},E&&{fetchSimilarGeneratedImages:E,topSimilarCount:h},L&&(0,m._)({fetchSimilarImages:L,topSimilarCount:h},y&&{similarImagesCollectionType:v.e9.UnlimitedImage}),k&&(0,m._)({fetchSimilarVideos:k,topSimilarCount:h},y&&{similarVideosCollectionType:v.e9.UnlimitedVideo}));return{formattedRequest:{document:g.source,requestHeaders:(0,m._)({},(0,_.C)({brand:t,experiments:i,page:"",isBot:s}),n),url:"".concat(I.graphGateway,"/graphql"),variables:M},query:g.source,variables:M}},w=t(5992),T=t(81298),x=t(70372),$=t(74209),V=t(98917),E=t(15048),L=e=>(null!=e?e:[]).map(e=>(0,E.u)(e)),k=e=>(null!=e?e:[]).map(e=>(0,V.PU)(e)),M=e=>{var a,t,i,n,s,r,l,o,{creativeImages:{data:m}={data:[]},recommendations:d,sameArtist:c,sameModel:u}=e||{},g=(0,p.Er)({recommendations:d})||[],v=k(null==c||null==(a=c.results)?void 0:a.docs)||[],_=k(null==u||null==(t=u.results)?void 0:t.docs)||[],h=L(null==m||null==(n=m[0])||null==(i=n.similarImages)?void 0:i.entities)||[],y=L(null==m||null==(r=m[0])||null==(s=r.similarVideos)?void 0:s.entities)||[];return{personalizedImages:g,sameArtist:v,sameModel:_,visuallySimilar:h,visuallySimilarGenerated:L(null==m||null==(o=m[0])||null==(l=o.similarGeneratedImages)?void 0:l.entities)||[],visuallySimilarVideos:y}},B=t(98848),z=t(23069),P=t(46131),j=t(78042),U=t(77981),G=t(3074),N=t(62316),q=t(87484),W=t(12482),X=(0,N.NF)()?3e3:15e3,{publicRuntimeConfig:{_app:{name:J}}}=y()(),O={personalizedImages:[],sameArtist:[],sameModel:[],visuallySimilar:[],visuallySimilarGenerated:[],visuallySimilarVideos:[]},D=(e,a,t)=>{var i=e&&"object"==typeof e&&"response"in e?null==e?void 0:e.response:void 0;if(i){var n,s,r,l=(null==i?void 0:i.errors)||[],o=(null==i||null==(n=i.extensions)?void 0:n.valueCompletion)||[],m={message:(null==i||null==(r=i.errors)||null==(s=r[0])?void 0:s.message)||"N/A"};l.forEach((e,a)=>{var t;m["error".concat(a+1)]="".concat(e.message,", Path: ").concat((null==(t=e.path)?void 0:t.join("."))||"N/A")}),o.forEach((e,a)=>{var t;m["valueCompletion".concat(a+1)]="".concat(e.message,", Path: ").concat((null==(t=e.path)?void 0:t.join("."))||"N/A")}),a({actionName:"FetchRelatedAssets - GraphQLError",customAttributes:m});var d=null==i?void 0:i.data;if(d)return M(d)}if(e instanceof Error){if("AbortError"===e.name)return a({actionName:"FetchRelatedAssets - Timeout",customAttributes:{message:"Fetch request timed out",timeoutDuration:t}}),O;a({actionName:"FetchRelatedAssets - Error",customAttributes:{message:e.message||"unknown error occurred"}});var c=null==i?void 0:i.data;if(c)return M(c)}return O},Z=e=>{var a,t,i,{asset:n,shouldFetch:s=!0}=e,{region:l,locale:m}=(0,T.Y)(),{isGoodBot:d}=(0,r.l)(),{brand:c}=(0,z.P)(),p=(0,j.a)(),{type:g}=n||{},v=(0,U.h)(),{getSearchContext:_}=(0,B.J)(),{evaluations:h}=(0,q.dJ)(),{search_term:y}=(null==_?void 0:_())||{},I=p?u.Zh:2*u.SE,S=(0,G.J)(),f=(0,$.H)(),C=(0,x.r)({asset:n,features:S,isUnlimitedExperience:f}),b=null==S||null==(i=S.subscriptions)||null==(t=i[0])||null==(a=t.product)?void 0:a.name,{formattedRequest:{requestHeaders:F,variables:A},query:V}=R({asset:n,brand:c,experiments:h,headers:{[w.E3]:"".concat(J,"/asset-details-page/related-assets"),[w.ef]:"".concat(g,"-related-assets")},isBot:d,isMobile:p,isLoggedInUser:!!(null==S?void 0:S.userType),locale:m,region:l,searchTerm:"undefined"===y?"":y,subscriptionProduct:b,topSimilarCount:I,isFilterByUnlimited:C}),E=(0,P.s)("/"),L=[V],k=d?15e3:X,N=function(){var e=(0,o._)(function*(){try{var e=new AbortController,a=setTimeout(()=>e.abort(),k),t=yield E(V,A,{headers:F,signal:e.signal});return clearTimeout(a),M(t)}catch(e){return D(e,v,k)}});return function(){return e.apply(this,arguments)}}();return(0,W.I)({enabled:s,queryKey:L,queryFn:N})},H=e=>{var{asset:a,labels:t,isLocal:o}=e,m=(0,l.Uh)(a),{isGoodBot:d}=(0,r.l)(),c=(0,j.a)(),{data:u={},isLoading:p}=Z({asset:a,shouldFetch:!d&&!m})||{},{sameModel:g=[],sameArtist:v=[],visuallySimilar:_=[],visuallySimilarVideos:h=[],visuallySimilarGenerated:y=[],personalizedImages:I=[]}=d?a:u,S=!c&&d;return p?(0,i.jsx)(s.B,{}):!m&&(p||m)?null:(0,i.jsx)(n.a,{asset:a,gridSpacing:4,labels:t,personalizedImages:I,sameArtistAssets:v,sameModel:g,showSimilarVideos:!0,visuallySimilar:_,visuallySimilarMaxRows:2,visuallySimilarVideos:h,visuallySimilarGenerated:y,withInlineCta:!m,isLocal:o,useCssGrid:S,maxRows:S?null:2,isCustomMobileGridWidth:!0})}},70372:(e,a,t)=>{t.d(a,{r:()=>r});var i=t(59044),n=t(13631),s=(e,a)=>{var t=null==e?void 0:e.isActiveFlexUser,i=null==e?void 0:e.isActiveCreditPackUser;if(t||i)return!0;switch(a){case n.W1:return(null==e?void 0:e.isActiveImageSubUser)||(null==e?void 0:e.isActiveImagePackUser);case n.G_:return!!(null==e?void 0:e.isActiveVideoPlanUser);case n.on:case n.M9:return!!(null==e?void 0:e.isActiveMusicPlanUser);default:return!1}},r=e=>{var{asset:a,features:t,bypassAssetCheck:n,assetType:r,isUnlimitedExperience:l}=e,o=n||(0,i.sY)(a),m=s(t,a?(0,i.f0)(a):r),d=!!(null==t?void 0:t.isUserWithActiveBasicUnlimitedPlan),c=!(null==t?void 0:t.userId)||(null==t?void 0:t.isFBA)||(null==t?void 0:t.isLapsedAccount);return!!((d&&!m||c&&l)&&o)}},74961:(e,a,t)=>{t.d(a,{Er:()=>v,aR:()=>p,g2:()=>g,x8:()=>c});var i=t(87011),n=t(93096),s=t(13631),r=t(49080),l=t(90645),o=t(90280),m=t(98917),d=t(17563),c=["IN"],u=e=>{switch(e.toLowerCase()){case s.$E:return d.XJ.Illustration;case s.vo:return d.XJ.Photo;case s.kc:return d.XJ.Vector;default:return d.XJ.Photo}},p=e=>{var{asset:a,isBot:t,isLoggedInUser:i,isMobile:n,region:r}=e;if(t)return!1;var l=[s.$E,s.kc,s.vo].includes(null==a?void 0:a.imageType),o=!c.includes(r)&&!n;return l&&(i||o)},g=e=>{var{asset:a,limit:t=o.hI,locale:n,region:s,searchTerm:l="",subscriptionProduct:m,isFilterByUnlimited:c=!1}=e,{id:p,imageType:g=d.XJ.Photo}=a||{},v="undefined"===l?"":l,_=RegExp("^id:*").test(v);return{recommendationAnchors:(0,i._)({classicIds:[p],locale:n,mediaType:d.g9.Image},m?{subscriptionProduct:m}:{},!_&&{text:v}),recommendationCountry:s,recommendationFilters:(0,i._)({channels:[d.Tm.Shutterstock],imageType:u(g),mediaType:d.g9.Image},c&&{content:{tiers:r.dV}}),recommendationLimit:t,recommendationStrategy:d.xp.Style}},v=e=>{var a,{recommendations:t}=e,{response:s,internals:r}=t||{},{results:o,tracer:d}=s||{},{resultsCount:c}=(null==r||null==(a=r.providers)?void 0:a[0])||{};return(null==o?void 0:o.reduce((e,a)=>{var{media:t}=a;if((null==t?void 0:t.__typename)===l.Vi){var s=(0,n._)((0,i._)({},(0,m.PU)(t)),{meta:{trackingId:d,totalCount:{images:c}}});e.push(s)}return e},[]))||[]}}}]);
//# sourceMappingURL=ImageRelatedSectionsToUse.7db604d70341ef46.js.map